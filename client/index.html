<!DOCTYPE html>
<html>
    <head>
        <title>RaspStream</title>
        <style>
            img {transform: rotate(180deg); }
        </style>
    </head>
    <body>
        <h1>Streaming</h1>
        Image:
        <span id="date"></span>
        <br/>
        Current time
        <span id="time"></span>
        <br/>
        Difference
        <span id="difference"></span>
        <br/>
        <img id="image">
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@1.0.0"></script>
        <script type="text/javascript" src="./js/mobilenet.js"></script>
        <script type="text/javascript" src="./js/socket.io-client.js"></script>
        <script type="text/javascript" src="./js/auth.js"></script>
        <script type="text/javascript" src="./js/socket.js"></script>
        <script>

            document.addEventListener("DOMContentLoaded", async (event) => { 
                
                console.log(mobilenet)

                var farmPath = '1234';
                var AuthModule = auth();
                var MobilenetModule = await Mobilenet(mobilenet);
                MobilenetModule.loadModel();
               
                var SocketModule = socket(io, MobilenetModule);
                
                AuthModule.authenticate(farmPath, 'password').then(response => {
                    SocketModule.connectSocket(farmPath);
                });

            });

        </script>
    </body>
</html>